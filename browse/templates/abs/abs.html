{%- extends "base/base.html" %}

{% from 'abs/author_links.html' import display_authors_with_links %}

{% import 'base/macros.html' as base_macros %}

{% set pagetitle %}arXiv:{{ requested_id }}{% endset %}
{#- build breadcrumb items as link : label pairs, excluding home and current page -#}
{% set breadcrumb = {
  url_for('.list_articles',context=abs_meta.primary_archive.id, subcontext='recent') : abs_meta.primary_archive.id,
} %}

{% block addl_head %}
  {{ super() -}}
  {%- if config['LABS_ENABLED'] and config['LABS_BIBEXPLORER_ENABLED'] -%}
  <link rel="stylesheet" media="screen" type="text/css" href="https://static.arxiv.org/js/bibex-dev/bibex.css?20200709"/>
  {%- endif %}
  <script src="{{ url_for('static', filename='js/mathjaxToggle.min.js') }}" type="text/javascript"></script>
  {%- if config['LABS_ENABLED'] -%}
  {#  <link rel="stylesheet" type="text/css" media="screen" href="{{ url_for('static', filename='css/paperwithcode.css') }}" /> #}
  <script src="//code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
  <script src="//cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js" type="text/javascript"></script>
  <script src="{{ url_for('static', filename='js/toggle-labs.js') }}?20210311-phoenix" type="text/javascript"></script>
  <script src="{{ url_for('static', filename='js/cite.js') }}" type="text/javascript"></script>
  {%- endif %}
  {%- include "feedback_collector_js.html" -%}
  {{- generate_scholar_tags() }}
  {{- generate_social_media_tags() }}
{% endblock addl_head %}

{%- block content %}
  {% set download_button %}
    {{ generate_download_button('d-md-none arxiv-mobile-download') }}
  {% endset %}

  {% block breadcrumbs %}
  {% endblock breadcrumbs %}

  {% if is_covid_match %}
  <div class="alert alert-primary" role="alert">
    <h4 class="alert-heading">COVID-19 e-print</h4>
    <p><em>Important:</em> e-prints posted on arXiv are not peer-reviewed by arXiv; they should not be relied upon without context to guide clinical practice or health-related behavior and should not be reported in news media as established information without consulting multiple experts in the field.</p>
  </div>
  {% endif -%}

  <div class="arxiv-download-buttons d-flex d-md-block gap-2 float-md-end">
    {{ generate_download_button('btn-lg') }}
    {{ generate_read_button('btn-lg') }}
  </div>

  <h1>Title here</h1>
  {{ authors_list() }}
  <div class="authors"><a href="">authors list</a>. Submitter: Name Here [<a href="">view email</a>]</div>
  <p>abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. abstract to go here. </p>
  <div class="row g-0">
    <div class="col">
      <ul class="metadata list-group list-group-flush border">
        <li class="list-group-item">arXiv ID</li>
        <li class="list-group-item">Date Submitted</li>
        <li class="list-group-item">Version History</li>
        <li class="list-group-item">Categorization</li>
      </ul>
    </div>
    <div class="col">
      <ul class="metadata list-group list-group-flush border">
        <li class="list-group-item">Cite As</li>
        <li class="list-group-item">arXiv DOI</li>
        <li class="list-group-item">Author/Publisher DOI</li>
        <li class="list-group-item">Journal Reference</li>
        <li class="list-group-item">License</li>
      </ul>
    </div>
  </div>
  <a href="">Which authors of this paper are endorsers?</a>
{% endblock content %}

{% block content_extra %}
<div class="arxiv-labs">
  {% include "abs/labs_tabs.html" %}
</div>
{% endblock content_extra %}









{%- macro generate_version_entry(version_entry, this_version) %}
  {%- if version_entry.version == this_version -%}
  <strong>[v{{ version_entry.version }}]</strong>
{% else %}
  <strong><a href="{{ url_for('.abstract', arxiv_id='{}v{}'.format(abs_meta.arxiv_id, version_entry.version)) }}">[v{{ version_entry.version }}]</a></strong>
  {% endif %}{{ version_entry.submitted_date.strftime('%a, %-d %b %Y %H:%M:%S %Z') }} ({{ "{:,}".format(version_entry.size_kilobytes) }} KB){#- ({{(version_entry.size_kilobytes*1000)|filesizeformat}}) -#}<br/>
{%- endmacro -%}

{%- macro generate_dateline() -%}
  [Submitted on {{ abs_meta.version_history[0].submitted_date.strftime('%-d %b %Y') }}
  {%- if abs_meta.version == 1 and abs_meta.version < abs_meta.version_history[-1].version %} (this version){%- endif -%}
  {%- if abs_meta.version != 1 %} (<a href="{{ url_for('.abstract', arxiv_id='{}v1'.format(abs_meta.arxiv_id)) }}">v1</a>){%- endif %}
  {%- if abs_meta.version > 1 and abs_meta.version < abs_meta.version_history[-1].version -%}
  , revised {{ abs_meta.version_history[abs_meta.version-1].submitted_date.strftime('%-d %b %Y') }} (this version, v{{ abs_meta.version }})
  {%- endif -%}
  {%- if abs_meta.version != abs_meta.version_history[-1].version -%}
  , <em>latest version {{ abs_meta.version_history[-1].submitted_date.strftime('%-d %b %Y') }}</em> (<a href="{{ url_for('.abstract', arxiv_id='{}v{}'.format(abs_meta.arxiv_id, abs_meta.version_history[-1].version)) }}">v{{ abs_meta.version_history[-1].version }}</a>)
  {%- elif abs_meta.version > 1 and abs_meta.version == abs_meta.version_history[-1].version -%}
  , last revised {{ abs_meta.version_history[-1].submitted_date.strftime('%-d %b %Y') }} (this version, v{{ abs_meta.version }})
  {%- endif -%}
  ]
{%- endmacro -%}

{%- macro generate_scholar_tags() -%}
{%- if meta_tags %}
    {%- for tag in meta_tags %}
  <meta name="{{tag.name}}" content="{{tag.content}}"/>
    {%- endfor -%}
{%- endif -%}
{%- endmacro -%}

{%- macro generate_social_media_tags() -%}
    <meta name="twitter:site" content="@arxiv"/>
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:title" content="{{ abs_meta.title|tex2utf|truncate(70, False, '...')|tex2utf }}"/>
    <meta name="twitter:description" content="{{ abs_meta.abstract|trim|truncate(200, False, '...')|tex2utf }}"/>
    <meta name="twitter:image" content="https://static.arxiv.org/icons/twitter/arxiv-logo-twitter-square.png"/>
    <meta name="twitter:image:alt" content="arXiv logo"/>
    <meta property="og:site_name" content="arXiv.org"/>
    <meta property="og:title" content="{{ abs_meta.title|tex2utf }}"/>
    <meta property="og:url" content="{{ canonical_url(abs_meta.arxiv_id, abs_meta.version) }}"/>
    <meta property="og:description" content="{{ abs_meta.abstract|trim|tex2utf }}"/>
{%- endmacro -%}

{%- macro category_line() -%}
  <span class="primary-subject">{{- abs_meta.primary_category.unalias().display -}}</span>
  {%- if abs_meta.secondary_categories -%}
    {%- for category in abs_meta.display_secondaries() -%}
        ; {{ category }}
    {%- endfor -%}
  {%- endif -%}
{%- endmacro -%}

{%- macro version_atag(arxiv_id, version, primary_category) -%}
  {%- if version -%}
    {%- set vpart = 'v' ~ version -%}
  {%- else -%}
    {%- set vpart = '' -%}
  {% endif %}
  {%- if primary_category in arxiv_id -%}
    <a href="{{ arxiv_id|canonical_url(version) }}">arXiv:{{ abs_meta.arxiv_id }}{{vpart}}</a>
    {%- else -%}
    <a href="{{ arxiv_id|canonical_url(version) }}">arXiv:{{ abs_meta.arxiv_id }}{{vpart}}</a> [{{ abs_meta.primary_category }}]
  {%- endif -%}
{%- endmacro -%}





{% macro authors_list (authors) %}
  <p class="hereiam">{{ authors }}</p>
{% endmacro %}



{% macro abs(
    arxiv_id,
    title,
    authors,
    abstract,
    submitted_date,
    primary_category,
    comments = None,
    msc_class = None,
    acm_class = None,
    journal_ref = None,
    doi = None,
    report_num = None,
    version = 1,
    submission_history = [],
    secondary_categories = [],
    include_stylesheet = 1,
    embed_stylesheet = 0,
    download_button_markup = None) -%}
<!-- {% if include_stylesheet and not embed_stylesheet %}
<link rel="stylesheet" type="text/css" href="{{ url_for('base.static', filename='css/abs.css') }}">
{% endif %}
{% if embed_stylesheet %}
  <style>
  {{ 'css/abs.css'|embed_content }}
  </style>
{% endif %} -->
<div class="arxiv-abstract">
    <div class="dateline">{{ abs_date_line(arxiv_id, submitted_date, version, submission_history) }}</div>
    <h1 class="title mathjax">{{ title|tex2utf|arxiv_id_urlize|safe }}</h1>
    <div class="authors">{{ authors }}</div>

    {#- optionally include markup for the download button -#}
    {% if download_button_markup %}
      {{ download_button_markup }}
    {% endif %}

    <div class="abstract mathjax">
      {{ abstract|tex2utf_no_symbols|abstract_lf_to_br|urlize|safe }}
    </div>

    <ul class="metadata list-group list-group-flush border">
      <li class="list-group-item">
        <strong>arXiv identifier:</strong>
        arXiv:{{ arxiv_id }}
      </li>
      <li class="list-group-item">
        <strong>Date submitted:</strong>
        {{ submitted_date }}
      </li>
      {%- if comments %}
      <li class="list-group-item">
        <strong>Comments:</strong>
        <span class="comments">{{ comments|tex2utf|urlize|safe }}</span>
      </li>
      {% endif -%}
      <li class="list-group-item">
        <strong>Subjects:</strong>
        <span class="subjects">
          <span class="primary-subject">{{ primary_category|get_category_display }}</span>
        {%- for category in secondary_categories|sort(attribute='id') -%}; {{ category|get_category_display }}{%- endfor -%}
        </span>
      </li>
      {%- if msc_class %}
      <li class="list-group-item">
        <strong>MSC Classes:</strong>
        {{ msc_class }}
      </li>
      {% endif -%}
      {%- if acm_class %}
      <li class="list-group-item">
        <strong>ACM Classes:</strong>
        {{ acm_class }}
      </li>
      {% endif -%}
      {%- if journal_ref %}
      <li class="list-group-item">
        <strong>Journal References:</strong>
        {{ journal_ref|tex2utf }}
      </li>
      {% endif -%}
      {%- if doi %}
      <li class="list-group-item">
        <strong>DOI:</strong>
        {{ doi|escape|abs_doi_to_urls|safe }}
      </li>
      {% endif -%}
      {%- if report_num %}
      <li class="list-group-item">
        <strong>Report Number:</strong>
        {{ report_num }}
      </li>
      {% endif -%}
    </ul>

    <!--CONTEXT-->
    <!-- <div class="metatable">
      <table summary="Additional metadata">
        {%- if comments %}
        <tr>
          <td class="tablecell label">Comments:</td>
          <td class="tablecell comments mathjax">{{ comments|tex2utf|urlize|safe }}</td>
        </tr>
        {% endif -%}
        <tr>
          <td class="tablecell label">Subjects:</td>
          <td class="tablecell subjects">
            <span class="primary-subject">{{ primary_category|get_category_display }}</span>
            {%- for category in secondary_categories|sort(attribute='id') -%}; {{ category|get_category_display }}{%- endfor -%}
          </td>
        </tr>
        {%- if msc_class %}
        <tr>
          <td class="tablecell label"><abbr title="Mathematical Subject Classification">MSC</abbr> classes:</td>
          <td class="tablecell msc-classes">{{ msc_class }}</td>
        </tr>
        {% endif -%}
        {%- if acm_class %}
        <tr>
          <td class="tablecell label"><abbr title="Association of Computing Machinery Classification">ACM</abbr>&nbsp;classes:</td>
          <td class="tablecell acm-classes">{{ acm_class }}</td>
        </tr>
        {% endif -%}
        {%- if journal_ref %}
        <tr>
          <td class="tablecell label">Journal&nbsp;reference:</td>
          <td class="tablecell jref">{{ journal_ref|tex2utf }}</td>
        </tr>
        {% endif -%}
        {%- if doi %}
        <tr>
          <td class="tablecell label"><abbr title="Digital Object Identifier">DOI</abbr>:</td>
          <td class="tablecell msc_classes">{{ doi|escape|abs_doi_to_urls|safe }}</td>
        </tr>
        {% endif -%}
        {%- if report_num %}
        <tr>
          <td class="tablecell label">Report&nbsp;number:</td>
          <td class="tablecell jref">{{ report_num }}</td>
        </tr>
        {% endif -%}
        <tr>
          <td class="tablecell label">Cite as:</td>
          <td class="tablecell arxivid"><span class="arxivid">{{ version_atag(arxiv_id, 0, primary_category) }}</span></td>
        </tr>
        <tr>
          <td class="tablecell label">&nbsp;</td>
          <td class="tablecell arxividv">(or <span class="arxivid">
              {{ version_atag(arxiv_id, version, primary_category) }}</span> for this version)
          </td>
        </tr>
      </table>
    </div> -->

</div>
{%- endmacro -%}



{% macro generate_download_button(display) %}
  {#- to display only on mobile use this display class: d-sm-none -#}
  {% if formats|length > 0 and ('pdf' in formats or 'pdfonly' in formats) %}
    <button class="btn btn-primary {{ display }}" href="{{url_for('.pdf', arxiv_id=requested_id)}}">
      <svg width="20" height="20" fill="currentColor" role="presentation">
        <use xlink:href="{{ url_for('base.static', filename='bootstrap/bootstrap-icons.svg') }}#file-arrow-down"/>
      </svg>
      Download PDF
    </button>
  {% else %}
    <button class="btn disabled d-sm-none" href="#other">No PDF available, click to view other formats</button>
  {% endif %}
{% endmacro %}

{% macro generate_read_button(display) %}
  {% if formats|length > 0 and ('pdf' in formats or 'pdfonly' in formats) %}
    <button class="btn btn-primary btn-lg" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">
      <svg width="20" height="20" fill="currentColor" role="presentation">
        <use xlink:href="{{ url_for('base.static', filename='bootstrap/bootstrap-icons.svg') }}#file-earmark-text"/>
      </svg>
      Read PDF
    </button>
  {% endif %}
  <div class="offcanvas offcanvas-end w-100" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
    <div class="offcanvas-header">
    <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
    <embed type="application/pdf"
        src="{{url_for('.pdf', arxiv_id=requested_id)}}#view=fitH&toolbar=0&navpanes=0&scrollbar=0&statusbar=0&messages=0&navpanes=0&&pagemode=none"
        width="100%"
        height="100%">
    </embed>
    </div>
  </div>
{% endmacro %}
